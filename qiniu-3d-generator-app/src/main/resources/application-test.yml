server:
  port: 8091

spring:
  application:
    name: qiniu-3d-generator-test
  
  # 使用H2内存数据库进行测试
  datasource:
    driver-class-name: org.h2.Driver
    url: jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE;MODE=MySQL
    username: sa
    password: 
    
  h2:
    console:
      enabled: true
      path: /h2-console
  
  # 禁用Redis连接
  autoconfigure:
    exclude:
      - org.springframework.boot.autoconfigure.data.redis.RedisAutoConfiguration

# MyBatis配置
mybatis:
  mapper-locations: classpath:mybatis/mapper/*.xml
  type-aliases-package: org.example.infrastructure.persistent.po
  configuration:
    map-underscore-to-camel-case: true
    cache-enabled: false

# 线程池配置
thread:
  pool:
    executor:
      config:
        core-pool-size: 20
        max-pool-size: 50
        keep-alive-time: 5000
        block-queue-size: 5000
        policy: CallerRunsPolicy

# 第三方API配置（测试环境）
meshy:
  api:
    url: https://api.meshy.ai
    key: test_key

hunyuan:
  api:
    url: https://hunyuan.tencentcloudapi.com
    secret-id: test_id
    secret-key: test_key
    region: ap-beijing

# API提供商配置
api:
  provider:
    default: meshy
    fallback: hunyuan
    enable-fallback: true

# 日志
logging:
  level:
    root: info
  config: classpath:logback-spring.xml